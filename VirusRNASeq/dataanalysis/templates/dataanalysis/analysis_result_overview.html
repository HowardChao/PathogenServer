{% extends 'base_checkfile.html' %}

{% block extraheader %}
{% load staticfiles %}
{% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/dataanalysis_result.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/dataanalysis_result_overview.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
    <!-- jQuery Custom Scroller CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script>
{% endblock extraheader %}

{% block content %}
<div class="wrapper">
    <!-- Sidebar -->
    <nav id="sidebar">
        <div class="sidebar-header">
            <h3>Dashboard</h3>
        </div>
        <ul class="list-unstyled components">
            <li>
                <a href={% url 'dataanalysis_result_overview' 'url_parameter' %}><i class="fas fa-file-contract"></i> &nbsp OverView</a>
            </li>
            <li>
                <a href="#"><i class="fas fa-search"></i> &nbsp Quality Control</a>
            </li>
            <li>
                <a href="#"><i class="fas fa-cut"></i> &nbsp Read Subtraction</a>
            </li>
            <li>
                <a href="#"><i class="fas fa-cut"></i> &nbsp Non-virus Removal</a>
            </li>
            <li>
                <a href="#"><i class="fas fa-align-right"></i> &nbsp <i>de novo</i> Assembly</a>
            </li>
            <li>
                <a href="#"><i class="fas fa-align-right"></i> &nbsp Reads Realignment</a>
            </li>
            <li>
                <a href="#"><i class="fas fa-database"></i> &nbsp Homology Search</a>
            </li>
            <li>
                <a href="#"><i class="fas fa-dna"></i> &nbsp Variant Calling</a>
            </li>
        </ul>

    </nav>
    <!-- Page Content -->
            <div id="content" >
                <button type="button" id="sidebarCollapse" class="btn btn-info ">
                    <i id="toggle_button" class="fas fa-angle-double-left"></i>
                </button>
            </div>
            
    <div class="container" style="margin-left: 100px; margin-top: 50px; margin-right: 50px">
        <div class="page-header">
            <h1 id="timeline">Overview</h1>
        </div>
        <ul class="timeline" style="margin-top: 30px;">
            <li class="timeline-inverted">
            <div class="timeline-badge warning"><i class="fas fa-search fa-3x" style="margin-top: 25px"></i></div>
            <div class="timeline-panel">
                <div class="timeline-heading">
                <h4 class="timeline-title">Quality Control</h4>
                </div>
                <div class="timeline-body">
                {% if check_first_qc_ans is False %}
                    <p>check_first_qc_ans:  Running !!!!</p>
                {% elif check_first_qc_ans is True %}
                    <p>check_first_qc_ans:  Finished !!!!</p>
                {% endif %}
                {% if check_trimming_qc_ans is False %}
                    <p>check_trimming_qc_ans:  Running !!!!</p>
                {% elif check_trimming_qc_ans is True %}
                    <p>check_trimming_qc_ans:  Finished !!!!</p>
                {% endif %}
                {% if check_second_qc_ans is False %}
                    <p>check_second_qc_ans:  Running !!!!</p>
                {% elif check_second_qc_ans is True %}
                    <p>check_second_qc_ans:  Finished !!!!</p>
                {% endif %}
                <script>
                function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
                }

                </script>
                {% if check_first_qc_ans and check_trimming_qc_ans and check_second_qc_ans %}
                {% else %}
                <script>
                console.log("check_first_qc_ans", "{{check_first_qc_ans}}");
                console.log("check_trimming_qc_ans", "{{check_trimming_qc_ans}}");
                console.log("check_second_qc_ans", "{{check_second_qc_ans}}");
                setTimeout(function(){
                window.location.reload(1);
                }, 8000);
                </script>
                {% endif %}
                </div>
            </div>
            </li>
    
            <li class="timeline-inverted">
            <div class="timeline-badge warning"><i class="fas fa-cut fa-3x" style="margin-top: 25px"></i></div>
            <div class="timeline-panel">
                <div class="timeline-heading">
                <h4 class="timeline-title">Read Subtraction</h4>
                </div>
                <div class="timeline-body">
                </div>
            </div>
            </li>

            <li class="timeline-inverted">
            <div class="timeline-badge warning"><i class="fas fa-cut fa-3x" style="margin-top: 25px"></i></div>
            <div class="timeline-panel">
                <div class="timeline-heading">
                <h4 class="timeline-title">Testing</h4>
                </div>
                <div class="timeline-body">
                </div>
            </div>
            </li>
        </ul>
    </div>


    {% comment %} <div id="content" class="w-100" >
        <main role="main" class="container">

            <div class="row">
                <div id="card_trimmomatic" class="card bg-light mt-5 mb-3 w-100 ">
                    <div class="card-header"><p class="h2"><i class="fas fa-cut"></i> &nbsp &nbsp OverView {{ variable.inside_or_outside }} </p></div>
                    <div class="card-body w-100">
                        <h5 class="card-title">Read with low quality would be deleted</h5>
                        <p class="card-text"></p>
                    </div>
                </div>


            </div>
        </main>
    </div> {% endcomment %}
</div>
<script>
$(document).ready(function () {

    $('#sidebarCollapse').on('click', function () {
        $('#sidebar').toggleClass('active');
        if ($(".active").hasClass("active")) {
            // do this
            console.log("hidden");
            document.getElementById("toggle_button").className = "fas fa-align-left";
        } else {
            // do that
            console.log("not hidden");
            document.getElementById("toggle_button").className = "fas fa-angle-double-left";
        }
    });

});

</script>

{% endblock content %}
